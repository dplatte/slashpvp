<body ng-app="app" ng-controller="CharacterCtrl" ng-init="getCharacterHistory('<%= params[:character_id] %>')">
	<div class="container-fluid">
	<div id="loadingGif" style="position: absolute;height: 50px;width: 50px;top: calc(50% - 50px);left: calc(50% - 50px);z-index: 2147483647; display:none;">
		<%= image_tag('kappa-loading.gif') %>
	</div>
		<div class="row">
			<div class="col-xs-12 col-md-2">
				<div class="row m-y">
					<div class="col-xs-12">
						<div class="input-group">
							<input type="text" ng-model="query" class="form-control" placeholder="Search by Name">
						</div>
					</div>
				</div>
		    </div>
		    <div class="hidden-sm-down col-md-8">
		    	<nav class="text-center">
		    		<ul class="pagination">
					    <li ng-class="{ disabled : pagination.current == 1 }">
					        <a href="" ng-click="pagination.current == 1 || setCurrentPage(1)">&laquo;</a>
					    </li>
					    <li ng-class="{ disabled : pagination.current == 1 }" class="ng-scope">
					        <a href="" ng-click="pagination.current == 1 || setCurrentPage(pagination.current - 1)" class="ng-binding">‹</a>
					    </li>
					    <li ng-if="pagination.current - 4 > 1 && pagination.last - 8 > 1" class="disabled ng-scope">
					        <a href="" class="ng-binding">...</a>
					    </li>
					    <li ng-repeat="pageNumber in pages track by $index" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == '...' }">
					        <a href="" ng-click="setCurrentPage(pageNumber)">{{ pageNumber }}</a>
					    </li>
					    <li ng-if="pagination.current + 4 < pagination.last && pagination.last > pagination.current + 8" class="disabled ng-scope">
					        <a href="" class="ng-binding">...</a>
					    </li>
					    <li ng-class="{ disabled : pagination.current == pagination.last }" class="ng-scope">
					        <a href="" ng-click="pagination.current == pagination.last || setCurrentPage(pagination.current + 1)" class="ng-binding">›</a>
					    </li>
					    <li ng-class="{ disabled : pagination.current == pagination.last }">
					        <a href="" ng-click="pagination.current == pagination.last || setCurrentPage(pagination.last)">&raquo;</a>
					    </li>
					</ul>
				</nav>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12 col-md-2">
				
			</div>
		    <div class="col-xs-12 col-md-8 p-x-0">
		    	<table class="table table-inverse table-hover">
		    		<thead class="thead-inverse">
		    			<tr>
		    				<th>#</th>
		    				<th>Old Rating</th>
		    				<th>New Rating</th>
		    				<th>Old Rank</th>
		    				<th>New Rank</th>
		    				<th>Date Played</th>
		    			</tr>
		    		</thead>
		    		<tbody id="ladderContent">
		    			<tr ng-repeat="c in filteredCharacters = (characters | filter: customCharacterFilter) | limitTo: limitVar : beginVar" ng-class="c.victory ? 'table-success' : 'table-danger'">
		    				<th scope="row">{{$index + 1}}</th>
		    				<td>{{c.old_rating}}</td>
		    				<td>{{c.new_rating}}</td>
		    				<td>{{c.old_ranking}}</td>
		    				<td>{{c.new_ranking}}</td>
		    				<td>{{c.retrieved_time | amDateFormat: 'MM/DD/YYYY hh:mm A'}}</td>
		    			</tr>
		    		</tbody>
		    	</table>
		    </div>
	  </div>
	</div>
</body>